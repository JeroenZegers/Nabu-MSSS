[evaluator]
evaluator = multi_task
tasks = task task0 task6 taskMin6
requested_utts = 3000
batch_size = 30
segment_length = full

[task]
evaluator = task_loss_evaluator
loss_type = deepclusteringnoise
inputs = features
outputs = bin_emb noise_filter

nodes = n0 bin_emb noise_filter

n0_model = main
n0_inputs = features

bin_emb_model = outlayer
bin_emb_inputs = n0

noise_labels_model = noisedetectlayer
noise_labels_inputs = n0

features = testspecMin6
targets = binary_targets noise_targets usedbins noise_ratio
binary_targets = testtargets
usedbins = testusedbins
noise_targets = testnoisetargets
noise_ratio = testnoiseratio

[task0]
evaluator = task_loss_evaluator
loss_type = deepclusteringnoise
inputs = features
outputs = bin_emb noise_filter

nodes = n0 bin_emb noise_filter

n0_model = main
n0_inputs = features

bin_emb_model = outlayer
bin_emb_inputs = n0

noise_labels_model = noisefilterlayer
noise_labels_inputs = n0

features = testspec0
targets = binary_targets noise_targets usedbins noise_ratio
binary_targets = testtargets0
usedbins = testusedbins0
noise_targets = testnoisetargets0
noise_ratio = testnoiseratio0

[taskMin3]
evaluator = task_loss_evaluator
loss_type = deepclusteringnoise
inputs = features
outputs = bin_emb noise_filter

nodes = n0 bin_emb noise_filter

n0_model = main
n0_inputs = features

bin_emb_model = outlayer
bin_emb_inputs = n0

noise_labels_model = noisefilterlayer
noise_labels_inputs = n0

features = testspec6
targets = binary_targets noise_targets usedbins noise_ratio
binary_targets = testtargetsMin3
usedbins = testusedbinsMin3
noise_targets = testnoisetargetsMin3
noise_ratio = testnoiseratioMin3

[taskMin6]
evaluator = task_loss_evaluator
loss_type = deepclusteringnoise
inputs = features
outputs = bin_emb noise_filter

nodes = n0 bin_emb noise_filter

n0_model = main
n0_inputs = features

bin_emb_model = outlayer
bin_emb_inputs = n0

noise_labels_model = noisedetectlayer
noise_labels_inputs = n0

features = testspecMin6
targets = binary_targets noise_targets usedbins noise_ratio
binary_targets = testtargetsMin6
usedbins = testusedbinsMin6
noise_targets = testnoisetargetsMin6
noise_ratio = testnoiseratioMin6
